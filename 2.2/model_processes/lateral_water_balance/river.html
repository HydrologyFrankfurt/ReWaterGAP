
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>River &#8212; ReWaterGAP 2.2e (stable) documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=02389b8a"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'model_processes/lateral_water_balance/river';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://raw.githubusercontent.com/HydrologyFrankfurt/ReWaterGAP/refs/heads/main/docs/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '2.2e (stable)';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Net abstractions" href="net_abstractions.html" />
    <link rel="prev" title="Reservoirs" href="reservoir_regulated_lakes.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.2e (stable)" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/watergap_logo.png" class="logo__image only-light" alt="ReWaterGAP 2.2e (stable) documentation - Home"/>
    <img src="../../_static/watergap_logo.png" class="logo__image only-dark pst-js-only" alt="ReWaterGAP 2.2e (stable) documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Model Processes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contributers_guide/index.html">
    Contributers Guide
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/HydrologyFrankfurt/ReWaterGAP" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/HydroFrankfurt" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Model Processes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contributers_guide/index.html">
    Contributers Guide
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/HydrologyFrankfurt/ReWaterGAP" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/HydroFrankfurt" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../vertical_water_balance/index.html">Vertical Water Balance</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../vertical_water_balance/radiation_evapotranspiration.html">Radiation and Evapotranspiration</a></li>

<li class="toctree-l2"><a class="reference internal" href="../vertical_water_balance/leafareaindex.html">Leaf Area Index</a></li>

<li class="toctree-l2"><a class="reference internal" href="../vertical_water_balance/canopy.html">Canopy</a></li>

<li class="toctree-l2"><a class="reference internal" href="../vertical_water_balance/snow.html">Snow</a></li>

<li class="toctree-l2"><a class="reference internal" href="../vertical_water_balance/soil.html">Soil</a></li>

</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Lateral Water Balance</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="groundwater.html">Groundwater</a></li>

<li class="toctree-l2"><a class="reference internal" href="lakes_wetlands.html">Lakes and wetlands</a></li>

<li class="toctree-l2"><a class="reference internal" href="reservoir_regulated_lakes.html">Reservoirs</a></li>

<li class="toctree-l2 current active"><a class="current reference internal" href="#">River</a></li>

<li class="toctree-l2"><a class="reference internal" href="net_abstractions.html">Net abstractions</a></li>

</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../gwswuse/index.html">Groundwater Surface Water Use</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../gwswuse/simulation_logic.html">Simulation Logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gwswuse/irrigation_simulation.html">Irrigation Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gwswuse/domestic_simulation.html">Domestic Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gwswuse/manufacturing_simulation.html">Manufacturing Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gwswuse/thermal_power_simulation.html">Thermal Power Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gwswuse/livestock_simulation.html">Livestock Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gwswuse/cross_sectoral_aggregate_results.html">Cross-Sectoral Aggregate Results</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Model Processes</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Lateral Water Balance</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">River</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="river">
<span id="id1"></span><h1>River<a class="headerlink" href="#river" title="Link to this heading">#</a></h1>
<p>River storage and related fluxes are calculated based on section 4.7 of Müller Schmied et al 2021 <a class="footnote-reference brackets" href="#id7" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="river.river_water_balance">
<span class="sig-prename descclassname"><span class="pre">river.</span></span><span class="sig-name descname"><span class="pre">river_water_balance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">river_storage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">river_inflow</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outflow_constant</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stat_corr_fact</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accumulated_unsatisfied_potential_netabs_sw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minstorage_volume</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/river.html#river_water_balance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#river.river_water_balance" title="Link to this definition">#</a></dt>
<dd><p>Compute River water balance including storages and fluxes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">int</span></dt><dd><p>Latitude index of cell</p>
</dd>
<dt><strong>y</strong><span class="classifier">int</span></dt><dd><p>Longitude index of cell</p>
</dd>
<dt><strong>river_storage</strong><span class="classifier">float</span></dt><dd><p>Daily river storage, Unit: [km^3]</p>
</dd>
<dt><strong>river_inflow</strong><span class="classifier">float</span></dt><dd><p>Daily river inflow, Unit: [km^3/day]</p>
</dd>
<dt><strong>outflow_constant</strong><span class="classifier">float</span></dt><dd><p>River outflow constant (river_velocity / river_length), Unit: [1/day]</p>
</dd>
<dt><strong>stat_corr_fact</strong><span class="classifier">TYPE</span></dt><dd><p>Station correction factor to correct streamflow values, Unit: [-]</p>
</dd>
<dt><strong>accumulated_unsatisfied_potential_netabs_sw: float</strong></dt><dd><p>Accumulated unsatisfied potential net abstraction from surface water, Unit: [km^3/day].</p>
</dd>
<dt><strong>minstorage_volume: float</strong></dt><dd><p>Volumes at which storage is set to zero, units: [km3]</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>river_storage</strong><span class="classifier">float</span></dt><dd><p>Daily river storage, Unit: [km^3]</p>
</dd>
<dt><strong>streamflow</strong><span class="classifier">float</span></dt><dd><p>Daily streamflow, Unit: [km^3/day]</p>
</dd>
<dt>accumulated_unsatisfied_potential_netabs_sw: float</dt><dd><p>Accumulated unsatisfied potential net abstraction after satisfaction from river,
Unit: [km^3/day].</p>
</dd>
<dt>actual_use_sw: float</dt><dd><p>Actual netabstraction  from river storage, Unit: [km^3/day].</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<section id="water-balance">
<h2>Water balance<a class="headerlink" href="#water-balance" title="Link to this heading">#</a></h2>
<p>River storage <span class="math notranslate nohighlight">\(S_r\)</span> <span class="math notranslate nohighlight">\([m^3]\)</span> is computated as</p>
<div class="math notranslate nohighlight" id="river-balance">
\[\frac{dS_r}{d_t} =  {Q}_{r,in} − {Q}_{r,out} − {NA}_{s,r}\]</div>
<p>where <span class="math notranslate nohighlight">\({Q}_{r,in}\)</span> is inflow into the river compartment [<span class="math notranslate nohighlight">\({m}^{3} {d}^{-1}\)</span>], <span class="math notranslate nohighlight">\({Q}_{r,out}\)</span> is the streamflow [<span class="math notranslate nohighlight">\({m}^{3} {d}^{-1}\)</span>], and <span class="math notranslate nohighlight">\({NA}_{s,r}\)</span> is the <a class="reference internal" href="net_abstractions.html#net-abstractions"><span class="std std-ref">net abstractions</span></a> of surface water from the river [<span class="math notranslate nohighlight">\({m}^{3} {d}^{-1}\)</span>].</p>
</section>
<section id="inflows">
<h2>Inflows<a class="headerlink" href="#inflows" title="Link to this heading">#</a></h2>
<p>The inflow <span class="math notranslate nohighlight">\({Q}_{r,in}\)</span> into the river compartment (if there are no surface water bodies) is the sum of <a class="reference internal" href="../vertical_water_balance/soil.html#surface-runoff"><span class="std std-ref">soil surface runoff</span></a> <span class="math notranslate nohighlight">\(({R}_{s})\)</span>, <a class="reference internal" href="groundwater.html#groundwater-discharge"><span class="std std-ref">groundwater discharge</span></a> <span class="math notranslate nohighlight">\(({Q}_{g})\)</span>, and upstream streamflow. Otherwise fraction of <span class="math notranslate nohighlight">\({R}_{s}\)</span> and <span class="math notranslate nohighlight">\({Q}_{g}\)</span> (in humid cells) is routed through the surface water bodies (See: <a class="reference internal" href="../../getting_started/model_framework.html#model-schematic"><span class="std std-ref">Model Schematic</span></a>). The outflow from the surface water body preceding the river compartment then becomes part of <span class="math notranslate nohighlight">\({Q}_{r,in}\)</span>. In addition, negative net abstractions <span class="math notranslate nohighlight">\(({NA}_{s})\)</span> values due to high return flows from irrigation with groundwater lead to a net increase in storage. Thus, if no surface water bodies exist in the cell, negative <span class="math notranslate nohighlight">\({NA}_{s}\)</span> is added to <span class="math notranslate nohighlight">\({Q}_{r,in}\)</span>.</p>
</section>
<section id="outflows">
<h2>Outflows<a class="headerlink" href="#outflows" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="river.river_velocity">
<span class="sig-prename descclassname"><span class="pre">river.</span></span><span class="sig-name descname"><span class="pre">river_velocity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">river_storage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">river_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">river_bottom_width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roughness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roughness_multiplier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">river_slope</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/river.html#river_velocity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#river.river_velocity" title="Link to this definition">#</a></dt>
<dd><p>Compute river velocity for grid cells.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">int</span></dt><dd><p>Latitude index of cell</p>
</dd>
<dt><strong>y</strong><span class="classifier">int</span></dt><dd><p>Longitude index of cell</p>
</dd>
<dt><strong>river_storage</strong><span class="classifier">float</span></dt><dd><p>Daily river storage, Unit: [km^3]</p>
</dd>
<dt><strong>river_length</strong><span class="classifier">float</span></dt><dd><p>River length, Unit: [km]</p>
</dd>
<dt><strong>river_bottom_width</strong><span class="classifier">float</span></dt><dd><p>River bottom width, Unit: [km]</p>
</dd>
<dt><strong>roughness</strong><span class="classifier">float</span></dt><dd><p>Roughness of river bed, Unit: [-]</p>
</dd>
<dt><strong>roughness_multiplier</strong><span class="classifier">TYPE</span></dt><dd><p>Roughness of river bed multiplier, Unit: [-]</p>
</dd>
<dt><strong>river_slope</strong><span class="classifier">TYPE</span></dt><dd><p>River slope, Unit: [-]</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>river_velocity</strong><span class="classifier">float</span></dt><dd><p>River velocity, Unit: [km/day]</p>
</dd>
<dt><strong>outflow_constant</strong><span class="classifier">float</span></dt><dd><p>River outflow constant (river_velocity / river_length), Unit: [1/day]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<p><span class="math notranslate nohighlight">\({Q}_{r,out}\)</span> is defined as the streamflow or river discharge that leaves a cell and is transported to the next cell downstream.</p>
<p>This is calculated as:</p>
<div class="math notranslate nohighlight">
\[{Q}_{r,out} = \frac{v}{l} * {S}_{r}\]</div>
<p>where <span class="math notranslate nohighlight">\({v}\)</span> <span class="math notranslate nohighlight">\([m/s]\)</span> is the velocity of the river flow, and <span class="math notranslate nohighlight">\({l}\)</span> is the river length <span class="math notranslate nohighlight">\([m]\)</span>. <span class="math notranslate nohighlight">\({l}\)</span> is calculated as the product of the cell’s river segment length, derived from the HydroSHEDS drainage direction map <a class="footnote-reference brackets" href="#id8" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>, and a meandering ratio specific to that cell described in Verzano et al., 2012 <a class="footnote-reference brackets" href="#id9" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>.</p>
<p>The velocity <span class="math notranslate nohighlight">\({v}\)</span> is calculated using the Manning–Strickler equation:</p>
<div class="math notranslate nohighlight">
\[{v} = {n}^{-1} * {R}_{h}^{\frac{3}{2}} * {s}^{\frac{1}{2}}\]</div>
<p>where <span class="math notranslate nohighlight">\({n}\)</span> is river bed roughness <span class="math notranslate nohighlight">\([–]\)</span>, <span class="math notranslate nohighlight">\({R}_{h}\)</span> is the hydraulic radius of the river channel <span class="math notranslate nohighlight">\([m]\)</span> and <span class="math notranslate nohighlight">\({s}\)</span> is river bed slope <span class="math notranslate nohighlight">\([{m}*{m}^{-1}]\)</span> <a class="footnote-reference brackets" href="#id7" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> .</p>
<p>Daily varying <span class="math notranslate nohighlight">\({R}_{h}\)</span> is calculated assuming a trapezoidal river cross section with a slope of 0.5. <span class="math notranslate nohighlight">\({R}_{h}\)</span> then can be calculated as a function of daily varying river depth <span class="math notranslate nohighlight">\({D}_{r}\)</span> and temporally constant bottom width <span class="math notranslate nohighlight">\({W}_{r,bottom}\)</span> <a class="footnote-reference brackets" href="#id9" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>.
WaterGAP implements a consistent method for determining daily width and depth as a function of river water storage. Bankfull flow conditions are assumed to occur at the initial time step and the initial volume of water stored in the river is calculated as:</p>
<div class="math notranslate nohighlight">
\[{S}_{r,max} = {\frac{1}{2}} * {l} * {D}_{r,bf} * ({W}_{r,bottom} + {W}_{r,bf})\]</div>
<p>where <span class="math notranslate nohighlight">\({S}_{r,max}\)</span> is the maximum volume of water that can be stored in the river at bankfull depth <span class="math notranslate nohighlight">\([{m}^3]\)</span>, <span class="math notranslate nohighlight">\({D}_{r,bf}\)</span> <span class="math notranslate nohighlight">\([{m}]\)</span> and <span class="math notranslate nohighlight">\({W}_{r,bf}\)</span> <span class="math notranslate nohighlight">\([{m}]\)</span> are river depth and top width at bankfull conditions, respectively, and <span class="math notranslate nohighlight">\({W}_{r,bottom}\)</span> is river bottom width <span class="math notranslate nohighlight">\([{m}]\)</span>. River water depth <span class="math notranslate nohighlight">\({D}_{r}\)</span> <span class="math notranslate nohighlight">\([{m}]\)</span> is simulated to change at each time step with actual <span class="math notranslate nohighlight">\({S}_{r}\)</span> as:</p>
<div class="math notranslate nohighlight">
\[{D}_{r} = - {\frac{{W}_{r,bottom}}{4}} + {\sqrt{{{W}_{r,bottom}} * {\frac{{W}_{r,bottom}}{16}} + {0.5} * {\frac{{S}_{r}}{l}}}}\]</div>
<p>WaterGap also computes net cell runoff <span class="math notranslate nohighlight">\({R}_{n,c}\)</span> <span class="math notranslate nohighlight">\([{m}*{m*d}^{-1}]\)</span>, which is the part of the cell precipitation that has neither been evapotranspirated nor stored. It is calculated as:</p>
<div class="math notranslate nohighlight">
\[{R}_{n,c} = {\frac{{Q}_{r,in}-{Q}_{r,out}}{{A}_{cont}}} * {10}^{9}\]</div>
<p>where <span class="math notranslate nohighlight">\({A}_{cont}\)</span> is the continental area (0.5° times 0.5° grid cell area minus ocean area) of the grid cell (<span class="math notranslate nohighlight">\([m^2]\)</span>). Renewable water resources are calculated as long-term annual mean <span class="math notranslate nohighlight">\({R}_{nc}\)</span> under naturalized conditions (without human impact). It is possible for renewable water resources to be negative if evapotranspiration in a grid cell is higher than precipitation due to evapotranspiration from global lakes, reservoirs or wetlands that receive water from upstream cells.</p>
</section>
</section>
<section id="references">
<h1>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h1>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id7" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id2">1</a>,<a role="doc-backlink" href="#id5">2</a>)</span>
<p>Müller Schmied, H., Cáceres, D., Eisner, S., Flörke, M., Herbert, C., Niemann, C., Peiris, T. A., Popat, E., Portmann, F. T., Reinecke, R., Schumacher, M., Shadkam, S., Telteu, C.E., Trautmann, T., &amp; Döll, P. (2021). The global water resources and use model WaterGAP v2.2d: model description and evaluation. Geoscientific Model Development, 14(2), 1037–1079. <a class="reference external" href="https://doi.org/10.5194/gmd-14-1037-2021">https://doi.org/10.5194/gmd-14-1037-2021</a></p>
</aside>
<aside class="footnote brackets" id="id8" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>Lehner, B., K. Verdin, and A. Jarvis (2008), New Global Hydrography Derived From Spaceborne Elevation Data, Eos Trans. AGU, 89(10), 93–94, doi:10.1029/2008EO100001.</p>
</aside>
<aside class="footnote brackets" id="id9" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id4">1</a>,<a role="doc-backlink" href="#id6">2</a>)</span>
<p>Verzano, K., Bärlund, I., Flörke, M., Lehner, B., Kynast, E., Voß, F., and Alcamo, J.: Modeling variable river flow velocity on continental scale: Current situation and climate change impacts in Europe, J. Hydrol., 424–425, 238–251, <a class="reference external" href="https://doi.org/10.1016/j.jhydrol.2012.01.005">https://doi.org/10.1016/j.jhydrol.2012.01.005</a>, 2012</p>
</aside>
<aside class="footnote brackets" id="id10" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></span>
<p>Allen, P. M., Arnold, J. C., and Byars, B. W.: Downstream channel geometry for use in planning level models, J. Am. Water Resour. As., 30, 663–671, <a class="reference external" href="https://doi.org/10.1111/j.1752-1688.1994.tb03321.x">https://doi.org/10.1111/j.1752-1688.1994.tb03321.x</a>, 1994</p>
</aside>
<aside class="footnote brackets" id="id11" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></span>
<p>Schneider, C., Flörke, M., Eisner, S., and Voss, F.: Large scale modelling of bankfull flow: An example for Europe, J. Hydrol., 408, 235–245, <a class="reference external" href="https://doi.org/10.1016/j.jhydrol.2011.08.004">https://doi.org/10.1016/j.jhydrol.2011.08.004</a>, 2011</p>
</aside>
<aside class="footnote brackets" id="id12" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></span>
<p>Schulze, K., Hunger, M., and Döll, P.: Simulating river flow velocity on global scale, Adv. Geosci., 5, 133–136, <a class="reference external" href="https://doi.org/10.5194/adgeo-5-133-2005">https://doi.org/10.5194/adgeo-5-133-2005</a>, 2005</p>
</aside>
</aside>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="reservoir_regulated_lakes.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Reservoirs</p>
      </div>
    </a>
    <a class="right-next"
       href="net_abstractions.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Net abstractions</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">River</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#river.river_water_balance"><code class="docutils literal notranslate"><span class="pre">river_water_balance()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#water-balance">Water balance</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#inflows">Inflows</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#outflows">Outflows</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#river.river_velocity"><code class="docutils literal notranslate"><span class="pre">river_velocity()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/model_processes/lateral_water_balance/river.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, ReWaterGAP.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>