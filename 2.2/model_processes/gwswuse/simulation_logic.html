
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Simulation Logic &#8212; ReWaterGAP 2.2e (stable) documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=02389b8a"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'model_processes/gwswuse/simulation_logic';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://raw.githubusercontent.com/HydrologyFrankfurt/ReWaterGAP/refs/heads/main/docs/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '2.2e (stable)';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Irrigation Simulation" href="irrigation_simulation.html" />
    <link rel="prev" title="Groundwater Surface Water Use" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.2e (stable)" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/watergap_logo.png" class="logo__image only-light" alt="ReWaterGAP 2.2e (stable) documentation - Home"/>
    <img src="../../_static/watergap_logo.png" class="logo__image only-dark pst-js-only" alt="ReWaterGAP 2.2e (stable) documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Model Processes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contributers_guide/index.html">
    Contributers Guide
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/HydrologyFrankfurt/ReWaterGAP" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/HydroFrankfurt" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Model Processes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contributers_guide/index.html">
    Contributers Guide
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/HydrologyFrankfurt/ReWaterGAP" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/HydroFrankfurt" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../vertical_water_balance/index.html">Vertical Water Balance</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../vertical_water_balance/radiation_evapotranspiration.html">Radiation and Evapotranspiration</a></li>

<li class="toctree-l2"><a class="reference internal" href="../vertical_water_balance/leafareaindex.html">Leaf Area Index</a></li>

<li class="toctree-l2"><a class="reference internal" href="../vertical_water_balance/canopy.html">Canopy</a></li>

<li class="toctree-l2"><a class="reference internal" href="../vertical_water_balance/snow.html">Snow</a></li>

<li class="toctree-l2"><a class="reference internal" href="../vertical_water_balance/soil.html">Soil</a></li>

</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../lateral_water_balance/index.html">Lateral Water Balance</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../lateral_water_balance/groundwater.html">Groundwater</a></li>

<li class="toctree-l2"><a class="reference internal" href="../lateral_water_balance/lakes_wetlands.html">Lakes and wetlands</a></li>

<li class="toctree-l2"><a class="reference internal" href="../lateral_water_balance/reservoir_regulated_lakes.html">Reservoirs</a></li>

<li class="toctree-l2"><a class="reference internal" href="../lateral_water_balance/river.html">River</a></li>

<li class="toctree-l2"><a class="reference internal" href="../lateral_water_balance/net_abstractions.html">Net abstractions</a></li>

</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Groundwater Surface Water Use</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Simulation Logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="irrigation_simulation.html">Irrigation Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="domestic_simulation.html">Domestic Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="manufacturing_simulation.html">Manufacturing Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="thermal_power_simulation.html">Thermal Power Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="livestock_simulation.html">Livestock Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="cross_sectoral_aggregate_results.html">Cross-Sectoral Aggregate Results</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Model Processes</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Groundwater Surface Water Use</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Simulation Logic</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="simulation-logic">
<span id="simulation-logic-gwswuse"></span><h1>Simulation Logic<a class="headerlink" href="#simulation-logic" title="Link to this heading">#</a></h1>
<p>The simulation logic is the core of the ReGWSWUSE software. This chapter describes in detail the simulation logic of the ReGWSWUSE software, which is used for modeling water use across various sectors. It includes the calculation processes and the underlying formulas.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>ReGWSWUSE, the WaterUseModels, and the WaterGAP Global Hydrological Model (WGHM) are integral sub-models of the comprehensive WaterGAP model. While the WaterUseModels model water use in various sectors—such as irrigation, households, industry, thermal power, and livestock—they do not differentiate between groundwater (GW) and surface water (SW). This differentiation, along with the subsequent calculation of net abstractions, is a central task of ReGWSWUSE, allowing for the quantification of human impact on global water resources.</p>
<p>ReGWSWUSE links the water use data from the WaterUseModels with the hydrological model (WGHM) by breaking down the data and calculating the shares of consumptive use, withdrawals, returns, and net abstractions for groundwater and surface water bodies in each sector. The main tasks include:</p>
<ul class="simple">
<li><p><strong>Consumptive Use:</strong> ReGWSWUSE differentiates the sector-specific consumptive uses of freshwater calculated in the WaterUseModels by splitting it into groundwater and surface water. This division is based on the relative shares specified for each sector.</p></li>
<li><p><strong>Withdrawals:</strong> The software calculates water withdrawals from groundwater and surface water for all sectors. Specific irrigation efficiencies are used for irrigation, and then the total water withdrawal for irrigation is calculated. These calculations are essential for determining the actual amount of water withdrawn from the respective water sources.</p></li>
<li><p><strong>Returns:</strong> Another central feature of ReGWSWUSE is the calculation of returns of excess water to groundwater and surface water bodies. These returns occur when a portion of the withdrawn water is not consumed and flows back into the water compartments of groundwater and surface water.</p></li>
<li><p><strong>Net Abstractions:</strong> Finally, ReGWSWUSE calculates net abstractions, which represent the difference between water withdrawals and returns—essentially the actual amount of water lost to the water resource due to human water use. These net abstractions are a crucial variable for estimating human impact on water resources.</p></li>
</ul>
<p>After calculating the sector-specific water use data, this data is integrated into ReGWSWUSE to determine consumptive use, withdrawals, returns, and net abstractions across all sectors. These aggregated values are essential for the global analysis of water use and are incorporated into the hydrological model (WGHM).</p>
<p>Through these processes, ReGWSWUSE connects the sectoral water use models (WaterUseModels) with the hydrological model (WGHM) of WaterGAP. The results from ReGWSWUSE feed directly into WGHM, where they are used to model water flows, storage processes, and the impact of human activities on water resources at a global level.</p>
</section>
<section id="sector-specific-simulations">
<h2>Sector-Specific Simulations<a class="headerlink" href="#sector-specific-simulations" title="Link to this heading">#</a></h2>
<p>In the sector-specific simulations, consumptive use, water withdrawals, returns, and net abstractions are calculated individually for groundwater and surface water resources for each sector. There are differences in assumptions and calculation processes within WaterGAP that vary by sector.</p>
<p>While the sectors of households, industry, thermal power plants, and livestock differ only in their assumptions about certain variables and do not show sector-specific differences in the simulations, the irrigation sector is distinctly different. It not only has a different simulation logic but also a finer temporal resolution. In the WaterGAP model, it is assumed that potential water use remains constant throughout the year for the mentioned sectors (households, industry, thermal power, and livestock). In contrast, the irrigation sector takes into account that water use varies from month to month.</p>
<p>Additionally, water withdrawals for irrigation in ReGWSWUSE are calculated fully considering the different irrigation efficiencies for the withdrawal infrastructures of groundwater and surface water. Optional functions are also available, allowing for flexible adjustments of consumptive water use in the irrigation sector.</p>
<figure class="align-center" id="id1">
<img alt="../../_images/gwswuse_logic.png" src="../../_images/gwswuse_logic.png" />
<figcaption>
<p><span class="caption-text"><em>Figure 1: In the Figure, all calculation steps of the ReGWSWUSE software are illustrated, starting from the sector-specific input data to the aggregation of cross-sectoral results. It is shown that for the sectors of households, industry, thermal power plants, and livestock, the consumptive use and water withdrawals are input in the unit m³/year. For irrigation, only the consumptive use is input, specifically in the unit m³/month.</em></span><a class="headerlink" href="#id1" title="Link to this image">#</a></p>
</figcaption>
</figure>
<section id="calculation-of-gw-and-sw-parts-of-consumptive-use">
<h3>Calculation of GW and SW Parts of Consumptive Use<a class="headerlink" href="#calculation-of-gw-and-sw-parts-of-consumptive-use" title="Link to this heading">#</a></h3>
<p>The first calculation step performed for all sectors is the calculation of consumptive use of groundwater and surface water using time-invariant raster data on the sector-specific relative share of groundwater use (fraction_gw_use). The sector-specific consumptive uses (consumptive_use_tot) are multiplied by the relative shares of groundwater use to obtain the consumptive use of groundwater per sector. Subsequently, the consumptive groundwater use is subtracted from the total consumptive use on a cell-by-cell basis to derive the consumptive use of surface water per sector. In WaterGAP 2.2e, it is assumed that the livestock and thermal power plant sectors rely exclusively on surface water.</p>
</section>
<section id="adjust-consumptive-use-in-irrigation">
<h3>Adjust Consumptive Use in Irrigation<a class="headerlink" href="#adjust-consumptive-use-in-irrigation" title="Link to this heading">#</a></h3>
<p>Before this step is conducted, the input consumptive use for irrigation is modified. This modification consists of three optional steps that can be set through configuration.</p>
<p>The first modification can be used when the input consumptive use refers to areas equipped for irrigation (AEI) and the irrigation results should pertain to actually irrigated areas (AAI). When this configuration is enabled (“input_based_on_aei”: True), the consumptive use is multiplied by the annual relative shares of AAI to AEI (fraction_aai_aei). The annual fraction_aai_aei values are country-specific and generated based on time series of national AAI and AEI from AQUASTAT.</p>
<p>The second modification (configuration: correct_irr_simulation_by_t_aai: True) serves to correct the consumptive use for irrigation for the years 2016 to 2020 using a time factor (time_factor_aai) based on the temporal development of AAI since 2015. This modification is intended to incorporate updated irrigation area information up to the year 2020. In GIM, the consumptive use is calculated considering the HID dataset, which includes raster data for AEI up to 2015.</p>
<p>The third modification of the irrigation-specific consumptive use accounts for deficit irrigation under certain conditions, such that irrigation does not lead to optimal growth of the crops. In WaterGAP, two conditions for deficit irrigation are defined. The first condition relates to the average annual groundwater depletion rate for the period from 1980 to 2009. If this rate exceeds 5 mm per year on average for the period, the first condition for a raster cell is met. The second condition for deficit irrigation pertains to the share of irrigation in total water withdrawals per raster cell for the period from 1960 to 2000; if this share exceeds 5%, this condition is also met. If the conditions for deficit irrigation for a raster cell are satisfied, the consumptive use is multiplied by the deficit_irrigation_factor, which is also set via configuration.</p>
<p>These are the three modification options for consumptive use in irrigation. For the WaterGAP 2.2e version, only the consideration of deficit irrigation with a deficit_irrigation_factor of 0.7 is included, provided that the previously described conditions are met.</p>
</section>
<section id="calculation-of-gw-and-sw-parts-of-abstraction">
<h3>Calculation of GW and SW Parts of Abstraction<a class="headerlink" href="#calculation-of-gw-and-sw-parts-of-abstraction" title="Link to this heading">#</a></h3>
<p>After splitting the sectoral consumptive uses into groundwater and surface water, the water withdrawals for groundwater and surface water are calculated for each sector. For the sectors of households, industry, thermal power plants, and livestock, this calculation follows the same procedure as the calculation of groundwater and surface water shares of consumptive use, utilizing the sector-specific relative share of groundwater use.</p>
<p>For the irrigation sector, this calculation process differs. The groundwater and surface water shares of the water withdrawals for irrigation are derived from the previously calculated corresponding shares of consumptive use divided by the specific irrigation efficiencies for groundwater and surface water. Once the groundwater and surface water shares of water withdrawals for irrigation are calculated, the total water withdrawals for irrigation can be determined by summation.</p>
<p>The irrigation efficiency for groundwater is set within the software, and there are two configuration modes for this, which are set via “irr_efficiency_gw_mode.” The “enforce” mode, derived from the WaterGAP 2.2e version, sets the irrigation efficiency for groundwater uniformly to the value efficiency_gw_threshold, which is 0.7 in version 2.2e. The “adjust” mode assumes that the irrigation efficiency is at least equal to that for surface water or takes the value of efficiency_gw_threshold.</p>
</section>
<section id="calculation-of-complete-return-flows">
<h3>Calculation of Complete Return Flows<a class="headerlink" href="#calculation-of-complete-return-flows" title="Link to this heading">#</a></h3>
<p>Following the splitting and calculation of water withdrawals, the calculation of return flows overall and specifically for groundwater and surface water is performed. This process is identical for all sectors. First, the total returns (return_flow_tot) are calculated by subtracting the consumptive use from the water withdrawal, yielding the completely excess water that is not evapotranspired during use and flows back.</p>
<p>Next, the absolute groundwater share of the return flow is calculated by multiplying with the relative groundwater share of the return (fraction_return_gw). By subtracting the absolute groundwater share from the total return flow, the surface water share of the return flow (return_flow_sw) is determined.</p>
</section>
<section id="calculation-of-net-abstractions">
<h3>Calculation of Net Abstractions<a class="headerlink" href="#calculation-of-net-abstractions" title="Link to this heading">#</a></h3>
<p>The net abstractions for groundwater (net_abstraction_gw) and surface water (net_abstraction_sw) are calculated separately and are the same for all sectors. They are defined as the difference between water withdrawals and returns to the respective water resource. To clarify, this means sector-specific groundwater withdrawals minus sector-specific returns to groundwater, and analogously for surface water.</p>
</section>
<section id="unit-conversion-m3-year-to-m3-month">
<h3>Unit Conversion (m³/year to m³/month)<a class="headerlink" href="#unit-conversion-m3-year-to-m3-month" title="Link to this heading">#</a></h3>
<p>To aggregate cross-sectoral total results for consumptive uses, water withdrawals, returns, and net abstractions, all sector-specific results must be in the same temporal resolution and unit. Since there is monthly variability for the irrigation sector, the cross-sectoral results for the individual variables should also be in monthly resolution and the unit m³/month. For this purpose, the annual data for households, industry, thermal power plants, and livestock are converted from annual resolution and the unit m³/year to data with monthly resolution and the unit m³/month. The annual values are divided by the number of days in the year and multiplied by the number of days in the corresponding month. In WaterGAP, 365 days are assumed for calculations for each year, meaning that February is assumed to have 28 days every year.</p>
</section>
<section id="aggregation-of-cross-sectoral-results">
<h3>Aggregation of Cross-Sectoral Results<a class="headerlink" href="#aggregation-of-cross-sectoral-results" title="Link to this heading">#</a></h3>
<p>Once all sector-specific calculations are completed, the aggregation of the computed values occurs. These aggregated data provide a comprehensive overview of water withdrawals, returns, consumptive use, and net abstractions across all sectors. All cross-sectoral raster data is presented in monthly resolution and the unit m³/month.</p>
<p>Aggregated Values Include:</p>
<dl class="simple">
<dt><strong>Consumptive Use</strong></dt><dd><ul class="simple">
<li><p>Total consumptive use (total.consumptive_use_tot)</p></li>
<li><p>Consumptive use derived exclusively from groundwater sources (total.consumptive_use_gw)</p></li>
<li><p>Consumptive use derived exclusively from surface water sources (total.consumptive_use_sw)</p></li>
</ul>
</dd>
<dt><strong>Water Withdrawals</strong></dt><dd><ul class="simple">
<li><p>Total water withdrawal (total.water_withdrawal_tot)</p></li>
<li><p>Water withdrawal exclusively from groundwater sources (total.water_withdrawal_gw)</p></li>
<li><p>Water withdrawal exclusively from surface water sources (total.water_withdrawal_sw)</p></li>
</ul>
</dd>
<dt><strong>Returns</strong></dt><dd><ul class="simple">
<li><p>Total returns (total_return_flow_tot)</p></li>
<li><p>Returns exclusively to groundwater sources (total.return_flow_gw)</p></li>
<li><p>Returns exclusively to surface water sources (total.return_flow_sw)</p></li>
</ul>
</dd>
<dt><strong>Net Abstractions</strong></dt><dd><ul class="simple">
<li><p>Net abstraction from groundwater sources (total.net_abstraction_gw)</p></li>
<li><p>Net abstraction from surface water sources (total.net_abstraction_sw)</p></li>
</ul>
</dd>
</dl>
<p>Additionally, for the irrigation sector, optional functions can be used to adjust the irrigation-specific consumptive use, and the irrigation-specific water withdrawals are fully calculated in GWSWUSE using groundwater and surface water-specific irrigation efficiencies.</p>
<p>While the sectors of households, industry, thermal power plants, and livestock differ only in their assumptions about certain variables and do not show sector-specific differences in the simulations, the irrigation sector also differs in simulation logic and temporal resolution. In WaterGAP, it is assumed that potential water use remains constant throughout the year for the sectors of households, industry, thermal power plants, and livestock. In contrast, it is assumed that irrigation use varies from month to month. This is due to the monthly variability assumed for the irrigation sector in WaterGAP, as well as additional adjustment functions for irrigation-specific consumptive use (e.g., deficit irrigation).</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Groundwater Surface Water Use</p>
      </div>
    </a>
    <a class="right-next"
       href="irrigation_simulation.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Irrigation Simulation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sector-specific-simulations">Sector-Specific Simulations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculation-of-gw-and-sw-parts-of-consumptive-use">Calculation of GW and SW Parts of Consumptive Use</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adjust-consumptive-use-in-irrigation">Adjust Consumptive Use in Irrigation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculation-of-gw-and-sw-parts-of-abstraction">Calculation of GW and SW Parts of Abstraction</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculation-of-complete-return-flows">Calculation of Complete Return Flows</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculation-of-net-abstractions">Calculation of Net Abstractions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unit-conversion-m3-year-to-m3-month">Unit Conversion (m³/year to m³/month)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregation-of-cross-sectoral-results">Aggregation of Cross-Sectoral Results</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/model_processes/gwswuse/simulation_logic.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2026, ReWaterGAP.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>